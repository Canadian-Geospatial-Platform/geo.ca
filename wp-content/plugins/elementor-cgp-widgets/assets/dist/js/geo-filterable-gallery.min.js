class GeoFilterableGalleryHandler extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{grid:".geo-filterable-gallery-grid",gridItem:".geo-filterable-gallery-grid-item",filterButton:".geo-filterable-gallery-filter",filterDropdown:".geo-filterable-gallery-filter-dropdown",resultsTitle:".geo-filterable-gallery-results__title",resultsFound:".geo-filterable-gallery-results__found"}}}getDefaultElements(){const e=this.getSettings("selectors");return{$grid:this.$element.find(e.grid),$gridItems:this.$element.find(e.gridItem),$filterButtons:this.$element.find(e.filterButton),$filterDropdown:this.$element.find(e.filterDropdown),$resultsTitle:this.$element.find(e.resultsTitle),$resultsFound:this.$element.find(e.resultsFound)}}bindEvents(){this.elements.$filterButtons.on("click",this.onFilterButtonClick.bind(this)),this.elements.$filterDropdown.on("change",this.onFilterDropdownChange.bind(this)),jQuery(window).on("resize",this.onResize.bind(this))}onFilterButtonClick(e){const t=jQuery(e.currentTarget),l=t.data("filter");t.hasClass(".geo-filterable-gallery-filter--active")||(this.updateActiveFilterButton(l),this.updateGrid(l),this.updateFilterDropdown(l))}onFilterDropdownChange(e){const t=this.elements.$filterDropdown.val();this.updateGrid(t),this.updateActiveFilterButton(t)}onInit(){super.onInit(),this.setMinimumHeight()}onResize(){this.setMinimumHeight()}setMinimumHeight(){let e=this.elements.$gridItems.first().height()+"px";this.elements.$grid.css("min-height",e)}updateFilterDropdown(e){this.elements.$filterDropdown.val(e)}updateActiveFilterButton(e){this.elements.$filterButtons.removeClass("geo-filterable-gallery-filter--active"),this.elements.$filterButtons.filter('[data-filter="'+e+'"]').addClass("geo-filterable-gallery-filter--active")}updateGrid(e){const t=this.elements.$filterButtons.filter('[data-filter="'+e+'"]').html();this.elements.$resultsTitle.html(t),this.updateResultsFound(e),this.elements.$gridItems.fadeOut(300),setTimeout(()=>{"*"!=e?this.elements.$gridItems.filter("."+e).fadeIn(300):this.elements.$gridItems.fadeIn(500)},300)}updateResultsFound(e){let t=this.elements.$gridItems.length,l=geoFilterableGalleryArgs.plural;"*"!=e&&(t=this.elements.$gridItems.filter("."+e).length),1==t&&(l=geoFilterableGalleryArgs.singular),l=l.replace("%s",t),this.elements.$resultsFound.html(l)}}jQuery(window).on("elementor/frontend/init",e=>{elementorFrontend.elementsHandler.attachHandler("geo-filterable-gallery",GeoFilterableGalleryHandler)});