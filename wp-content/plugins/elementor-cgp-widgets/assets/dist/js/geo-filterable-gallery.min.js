class GeoFilterableGalleryHandler extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{grid:".geo-filterable-gallery-grid",gridItem:".geo-filterable-gallery-grid-item",filterButton:".geo-filterable-gallery-filter",filterDropdown:".geo-filterable-gallery-filter-dropdown",resultsTitle:".geo-filterable-gallery-results__title",resultsCount:".geo-filterable-gallery-results__count"}}}getDefaultElements(){const e=this.getSettings("selectors");return{$grid:this.$element.find(e.grid),$gridItems:this.$element.find(e.gridItem),$filterButtons:this.$element.find(e.filterButton),$filterDropdown:this.$element.find(e.filterDropdown),$resultsTitle:this.$element.find(e.resultsTitle),$resultsCount:this.$element.find(e.resultsCount)}}bindEvents(){this.elements.$filterButtons.on("click",this.onFilterButtonClick.bind(this)),this.elements.$filterDropdown.on("change",this.onFilterDropdownChange.bind(this)),jQuery(window).on("resize",this.onResize.bind(this))}onFilterButtonClick(e){const t=jQuery(e.currentTarget),i=t.data("filter");t.hasClass(".geo-filterable-gallery-filter--active")||(this.updateActiveFilterButton(i),this.updateGrid(i),this.updateFilterDropdown(i))}onFilterDropdownChange(e){const t=this.elements.$filterDropdown.val();this.updateGrid(t),this.updateActiveFilterButton(t)}onInit(){super.onInit(),this.setMinimumHeight()}onResize(){this.setMinimumHeight()}setMinimumHeight(){let e=this.elements.$gridItems.first().height()+"px";this.elements.$grid.css("min-height",e)}updateFilterDropdown(e){this.elements.$filterDropdown.val(e)}updateActiveFilterButton(e){this.elements.$filterButtons.removeClass("geo-filterable-gallery-filter--active"),this.elements.$filterButtons.filter('[data-filter="'+e+'"]').addClass("geo-filterable-gallery-filter--active")}updateGrid(e){let t=this.elements.$gridItems.length;const i=this.elements.$filterButtons.filter('[data-filter="'+e+'"]').html();"*"!=e&&(t=this.elements.$gridItems.filter("."+e).length),this.elements.$resultsTitle.html(i),this.elements.$resultsCount.html(t),this.elements.$gridItems.fadeOut(300),setTimeout(()=>{"*"!=e?this.elements.$gridItems.filter("."+e).fadeIn(300):this.elements.$gridItems.fadeIn(500)},300)}}jQuery(window).on("elementor/frontend/init",e=>{elementorFrontend.elementsHandler.attachHandler("geo-filterable-gallery",GeoFilterableGalleryHandler)});