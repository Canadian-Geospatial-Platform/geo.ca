class GeoProvinceMapHandler extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{contentBoxes:".geo-province-map__content-box",dropdown:".geo-province-map__dropdown-select",map:".geo-province-map__svg"}}}getDefaultElements(){const e=this.getSettings("selectors");return{$contentBoxes:this.$element.find(e.contentBoxes),$dropdown:this.$element.find(e.dropdown),$map:this.$element.find(e.map)}}onInit(){super.onInit(),this.disableInactiveProvinces(),this.setInitialProvince()}bindEvents(){this.elements.$dropdown.on("change",this.onDropdownChange.bind(this)),this.elements.$map.on("click","g, rect, ellipse",this.onMapClick.bind(this)),this.elements.$map.on("mouseenter","rect, ellipse",this.onMapMouseEnter.bind(this)),this.elements.$map.on("mouseleave","rect, ellipse",this.onMapMouseLeave.bind(this))}onDropdownChange(e){const t=this.elements.$dropdown.val();this.handleProvinceChange(t)}onMapClick(e){const t=jQuery(e.currentTarget);if(t.hasClass("inactive"))return;const n=t.prop("tagName");let s=t.attr("id");"rect"!=n&&"ellipse"!=n||(s=s.slice(-2)),this.elements.$dropdown.val(s),this.handleProvinceChange(s)}onMapMouseEnter(e){let t=jQuery(e.currentTarget).attr("id").slice(-2);jQuery("#"+t).addClass("hover")}onMapMouseLeave(e){let t=jQuery(e.currentTarget).attr("id").slice(-2);jQuery("#"+t).removeClass("hover")}handleProvinceChange(e){let t=jQuery("#"+e);if(!t.hasClass("active")&&!t.hasClass("inactive"))if(this.elements.$map.find("g, text").removeClass("active"),this.elements.$contentBoxes.hide(),e){let n=this.elements.$contentBoxes.filter(`[data-id="${e}"]`),s="#"+n.data("hash"),i=jQuery("#text"+e);t.addClass("active"),i.addClass("active"),n.show(),history.replaceState(null,null,s)}else history.replaceState(null,null,location.pathname)}setInitialProvince(){if(window.location.hash){let e=window.location.hash.slice(1),t=this.elements.$contentBoxes.filter(`[data-hash="${e}"]`);if(t.length){let e=t.data("id");this.handleProvinceChange(e),this.elements.$dropdown.val(e),this.$element[0].scrollIntoView()}}}disableInactiveProvinces(){let e=this.elements.$map.data("inactive-provinces");if(e)for(const t in e){let n=e[t],s=this.elements.$map.find(`#${n}`),i=this.elements.$map.find(`#text${n}`),a=this.elements.$map.find(`#rect${n}`),o=this.elements.$map.find(`#ellipse${n}`);s.addClass("inactive"),a.addClass("inactive"),o.addClass("inactive"),i.hide()}}}jQuery(window).on("elementor/frontend/init",()=>{elementorFrontend.elementsHandler.attachHandler("geo-province-map",GeoProvinceMapHandler)});